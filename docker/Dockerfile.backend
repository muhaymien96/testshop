# ===== Backend (Express) =====
FROM node:20-alpine

WORKDIR /usr/src/app

# Copy dependencies first for build cache
COPY ../backend/package*.json ./

RUN npm install --production

# Copy backend source
COPY ../backend .

EXPOSE 3001
CMD ["node", "src/app.js"]
